import{a as N,r as x,j as i,B as b}from"./index-C_g83nc7.js";import{T as D}from"./ToolContent-CPG3NUPt.js";import{T as j}from"./ToolTextResult-h-NChVzd.js";import{T as h}from"./TextFieldWithDesc-PPwE1_13.js";import{C as g}from"./CheckboxWithDesc-wy5nrFmd.js";import{A as G}from"./Alert-k7_hFgzz.js";import"./TextField-BB1W8KIt.js";import"./ContentPaste-CjGTXkhv.js";import"./ResultFooter-BsMB-Y2y.js";import"./FormControlLabel-BYSc6Di4.js";import"./Checkbox-eIAKSjSC.js";import"./SwitchBase-BBer0tk-.js";import"./Close-CQfNI9A9.js";function R(a){const{minValue:r,maxValue:e,count:s,allowDecimals:f,allowDuplicates:p,sortResults:d}=a;if(r>=e)throw new Error("Minimum value must be less than maximum value");if(s<=0)throw new Error("Count must be greater than 0");if(!p&&s>e-r+1)throw new Error("Cannot generate unique numbers: count exceeds available range");const c=[];if(p)for(let m=0;m<s;m++){const u=C(r,e,f);c.push(u)}else{const m=new Set;for(let n=r;n<=e;n++)if(f)for(let t=0;t<100;t++)m.add(n+t/100);else m.add(n);const u=Array.from(m);for(let n=u.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[u[n],u[t]]=[u[t],u[n]]}for(let n=0;n<Math.min(s,u.length);n++)c.push(u[n])}return d&&c.sort((m,u)=>m-u),{numbers:c,min:r,max:e,count:s,hasDuplicates:!p&&V(c),isSorted:d}}function C(a,r,e){return e?Math.random()*(r-a)+a:Math.floor(Math.random()*(r-a+1))+a}function V(a){const r=new Set;for(const e of a){if(r.has(e))return!0;r.add(e)}return!1}function S(a,r,e){return a.map(s=>e?s.toFixed(2):Math.round(s).toString()).join(r)}function M(a){const{minValue:r,maxValue:e,count:s}=a;return r>=e?"Minimum value must be less than maximum value":s<=0?"Count must be greater than 0":s>1e4?"Count cannot exceed 10,000":e-r>1e6?"Range cannot exceed 1,000,000":null}const v={minValue:1,maxValue:100,count:10,allowDecimals:!1,allowDuplicates:!0,sortResults:!1,separator:", "};function J({title:a,longDescription:r}){const{t:e}=N("number"),[s,f]=x.useState(null),[p,d]=x.useState(null),[c,m]=x.useState(""),u=t=>{try{d(null),f(null),m("");const l=M(t);if(l){d(l);return}const o=R(t);f(o);const w=S(o.numbers,t.separator,t.allowDecimals);m(w)}catch(l){console.error("Random number generation failed:",l),d(e("randomNumberGenerator.error.generationFailed"))}},n=({values:t,updateField:l})=>[{title:e("randomNumberGenerator.options.range.title"),component:i.jsxs(b,{children:[i.jsx(h,{value:t.minValue.toString(),onOwnChange:o=>l("minValue",parseInt(o)||1),description:e("randomNumberGenerator.options.range.minDescription"),inputProps:{type:"number","data-testid":"min-value-input"}}),i.jsx(h,{value:t.maxValue.toString(),onOwnChange:o=>l("maxValue",parseInt(o)||100),description:e("randomNumberGenerator.options.range.maxDescription"),inputProps:{type:"number","data-testid":"max-value-input"}})]})},{title:e("randomNumberGenerator.options.generation.title"),component:i.jsxs(b,{children:[i.jsx(h,{value:t.count.toString(),onOwnChange:o=>l("count",parseInt(o)||10),description:e("randomNumberGenerator.options.generation.countDescription"),inputProps:{type:"number",min:1,max:1e4,"data-testid":"count-input"}}),i.jsx(g,{title:e("randomNumberGenerator.options.generation.allowDecimals.title"),checked:t.allowDecimals,onChange:o=>l("allowDecimals",o),description:e("randomNumberGenerator.options.generation.allowDecimals.description")}),i.jsx(g,{title:e("randomNumberGenerator.options.generation.allowDuplicates.title"),checked:t.allowDuplicates,onChange:o=>l("allowDuplicates",o),description:e("randomNumberGenerator.options.generation.allowDuplicates.description")}),i.jsx(g,{title:e("randomNumberGenerator.options.generation.sortResults.title"),checked:t.sortResults,onChange:o=>l("sortResults",o),description:e("randomNumberGenerator.options.generation.sortResults.description")})]})},{title:e("randomNumberGenerator.options.output.title"),component:i.jsx(b,{children:i.jsx(h,{value:t.separator,onOwnChange:o=>l("separator",o),description:e("randomNumberGenerator.options.output.separatorDescription"),inputProps:{"data-testid":"separator-input"}})})}];return i.jsx(D,{title:a,initialValues:v,compute:u,getGroups:n,resultComponent:i.jsxs(b,{children:[p&&i.jsx(G,{severity:"error",sx:{mb:2},children:p}),s&&i.jsx(j,{title:e("randomNumberGenerator.result.title"),value:c})]}),toolInfo:{title:e("randomNumberGenerator.info.title"),description:r||e("randomNumberGenerator.info.description")}})}export{J as default};
