import{r as i,j as e,B as n,T as u}from"./index-C_g83nc7.js";import{c as S}from"./index.esm-BXeXpCuG.js";import{T as z}from"./ToolImageInput-CFNY9OjJ.js";import{T}from"./ToolFileResult-UmzxLoM8.js";import{T as f}from"./TextFieldWithDesc-PPwE1_13.js";import{i as F}from"./browser-image-compression-BzWLnoYn.js";import{T as I}from"./ToolContent-CPG3NUPt.js";import"./BaseFileInput-c8nMlesD.js";import"./ContentPaste-CjGTXkhv.js";import"./InputFooter-BEiN93nS.js";import"./grey-pattern-DMflWW5d.js";import"./lodash-Ccv-xqw_.js";import"./ResultFooter-BsMB-Y2y.js";import"./TextField-BB1W8KIt.js";const y={rate:"50"};S({});function D({title:c}){const[a,p]=i.useState(null),[x,d]=i.useState(null),[m,g]=i.useState(null),[l,h]=i.useState(null),C=async(t,o)=>{if(!t)return;g(t.size);const s={maxSizeMB:1,maxWidthOrHeight:1024,quality:o/100,useWebWorker:!0};try{const r=await F(t,s);d(r),h(r.size)}catch(r){console.error("Error during compression:",r)}},j=(t,o)=>{if(!o)return;const{rate:s}=t;C(o,Number(s))};return e.jsx(I,{title:c,input:a,inputComponent:e.jsx(z,{value:a,onChange:p,accept:["image/png"],title:"Input PNG"}),resultComponent:e.jsx(T,{title:"Compressed PNG",value:x,extension:"png"}),initialValues:y,getGroups:({values:t,updateField:o})=>[{title:"Compression options",component:e.jsx(n,{children:e.jsx(f,{value:t.rate,onOwnChange:s=>o("rate",s),description:"Compression rate (1-100)"})})},{title:"File sizes",component:e.jsx(n,{children:e.jsxs(n,{children:[m!==null&&e.jsxs(u,{children:["Original Size: ",(m/1024).toFixed(2)," KB"]}),l!==null&&e.jsxs(u,{children:["Compressed Size: ",(l/1024).toFixed(2)," KB"]})]})})}],compute:j,setInput:p})}export{D as default};
