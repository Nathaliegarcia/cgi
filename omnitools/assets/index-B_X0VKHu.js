import{i as C,j as e,k as v,a as P,d as F,r as m,J as H,B as d,T as j}from"./index-C_g83nc7.js";import{T as R}from"./ToolFileResult-UmzxLoM8.js";import{T as b}from"./ToolContent-CPG3NUPt.js";import{P as I}from"./PDFButton-CWgk3_M3.js";import{I as S}from"./ContentPaste-CjGTXkhv.js";import{I as M}from"./InputFooter-BEiN93nS.js";import"./grey-pattern-DMflWW5d.js";import"./ResultFooter-BsMB-Y2y.js";import"./TextField-BB1W8KIt.js";async function k(t){const r=await I.create();for(const a of t){const l=await a.arrayBuffer(),s=await I.load(l);(await r.copyPages(s,s.getPageIndices())).forEach(f=>r.addPage(f))}const o=await r.save(),i="merged.pdf";return new File([o],i,{type:"application/pdf"})}var y={},B=v;Object.defineProperty(y,"__esModule",{value:!0});var w=y.default=void 0,_=B(C()),z=e;w=y.default=(0,_.default)((0,z.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf");function E({value:t,onChange:r,accept:o,title:i,type:a}){const{t:l}=P();F();const s=m.useRef(null),{showSnackBar:g}=m.useContext(H),f=n=>{const p=n.target.files;p&&r([...t,...Array.from(p).map(x=>({file:x,order:t.length}))])},c=()=>{var n;(n=s.current)==null||n.click()};function h(){r([])}function u(n){return n.length>10?n.slice(0,10)+"...":n}return e.jsxs(d,{children:[e.jsx(S,{title:i||l("toolMultiplePdfInput.inputTitle",{type:a.charAt(0).toUpperCase()+a.slice(1)})}),e.jsx(d,{sx:{width:"100%",height:"300px",border:t!=null&&t.length?0:1,borderRadius:2,boxShadow:"5",bgcolor:"background.paper",position:"relative"},children:e.jsx(d,{width:"100%",height:"100%",sx:{overflow:"auto",display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",position:"relative"},children:t!=null&&t.length?t.map((n,p)=>e.jsxs(d,{sx:{margin:1,display:"flex",alignItems:"center",justifyContent:"space-between",width:"200px",border:1,borderRadius:1,padding:1},children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(w,{}),e.jsx(j,{sx:{marginLeft:1},children:u(n.file.name)})]}),e.jsx(d,{sx:{cursor:"pointer"},onClick:()=>{const x=t.filter((V,T)=>T!==p);r(x)},children:"âœ–"})]},p)):e.jsx(j,{variant:"body2",color:"text.secondary",children:l("toolMultiplePdfInput.noFilesSelected")})})}),e.jsx(M,{handleImport:c,handleClear:h}),e.jsx("input",{ref:s,style:{display:"none"},type:"file",accept:o.join(","),onChange:f,multiple:!0})]})}function K({title:t}){const{t:r}=P("pdf"),[o,i]=m.useState([]),[a,l]=m.useState(null),[s,g]=m.useState(!1),f=async(c,h)=>{if(h.length!==0)try{g(!0);const u=await k(h.map(n=>n.file));l(u)}catch(u){throw new Error("Error merging PDF:"+u)}finally{g(!1)}};return e.jsx(b,{title:t,input:o,setInput:i,initialValues:o.map(c=>c.file),compute:f,inputComponent:e.jsx(E,{value:o,onChange:c=>{i(c)},accept:["application/pdf"],title:r("merge.inputTitle"),type:"pdf"}),getGroups:null,resultComponent:e.jsx(R,{title:r("merge.resultTitle"),value:a,extension:"pdf",loading:s,loadingText:r("merge.loadingText")}),toolInfo:{title:r("merge.toolInfo.title"),description:r("merge.toolInfo.description")}})}export{K as default};
